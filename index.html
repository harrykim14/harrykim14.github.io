
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="스터디용 블로그 w/ Harry Kim">
    <title>스터디용 블로그 w/ Harry Kim</title>
    <meta name="author" content="Harry Kim">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"Website","@id":"http://example.com","author":{"@type":"Person","name":"Harry Kim","sameAs":["https://github.com/harrykim14"]},"name":"스터디용 블로그 w/ Harry Kim","description":"개인 스터디용 페이지","url":"http://example.com"}</script>
    <meta name="description" content="개인 스터디용 페이지">
<meta property="og:type" content="blog">
<meta property="og:title" content="스터디용 블로그 w&#x2F; Harry Kim">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="스터디용 블로그 w&#x2F; Harry Kim">
<meta property="og:description" content="개인 스터디용 페이지">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Harry Kim">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    

    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            스터디용 블로그 w/ Harry Kim
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/harrykim14"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/05/15/21-05-15-HTML5-Canvas-%EA%B8%B0%EC%B4%88-4/"
                            aria-label=": 21-05-15 HTML5 Canvas 기초 (4)"
                        >
                            21-05-15 HTML5 Canvas 기초 (4)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-05-15T13:33:13+09:00">
	
		    May 15, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/%EA%B0%9C%EB%B0%9C/">개발</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=IeN-m2hMO-g"><img src="http://img.youtube.com/vi/IeN-m2hMO-g/mqdefault.jpg" alt="캔버스라이브강좌"></a></p>
<ul>
<li>캔버스내에서 Translate 사용하기</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.canvas&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> scaleValue = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</span><br><span class="line">  ctx.save();</span><br><span class="line">  ctx.setTransform(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  ctx.translate(<span class="number">250</span>, <span class="number">250</span>);</span><br><span class="line">  ctx.scale(scaleValue, scaleValue);</span><br><span class="line">  scaleValue += <span class="number">0.01</span>;</span><br><span class="line">  ctx.strokeRect(-<span class="number">50</span>, -<span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">  ctx.restore();</span><br><span class="line"></span><br><span class="line">  requestAnimationFrame(draw);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">draw();</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p><img src="/images/canvas10.gif"></p>
<blockquote>
<p>ctx.setTransform(a, b, c, d, e, f)</p>
</blockquote>
<ul>
<li>a ~ f의 매개변수는 각각 수평 확장, 수직 왜곡, 수평으로 기울이기, 수직 확장, 수평 이동, 수직이동을 뜻한다</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.canvas&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> scaleValue = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> rotationValue = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toRadian</span>(<span class="params">degree</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (degree * <span class="built_in">Math</span>.PI) / <span class="number">180</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height); <span class="comment">// 캔버스 초기화</span></span><br><span class="line">  ctx.save();</span><br><span class="line">  <span class="comment">// 디폴트 값을 저장 (색상이나 폰트 스타일 등)</span></span><br><span class="line">  ctx.setTransform(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  ctx.translate(<span class="number">250</span>, <span class="number">250</span>); <span class="comment">// 중앙으로 위치시킴</span></span><br><span class="line">  ctx.scale(scaleValue, scaleValue);</span><br><span class="line">  <span class="comment">// scale함수는 도형의 크기를 변화시킴. 여기서는 매 draw 실행마다 0.01씩 가로세로가 커짐.</span></span><br><span class="line">  ctx.rotate(toRadian(rotationValue));</span><br><span class="line">  <span class="comment">// rotateValue의 radian 값 만큼 회전, 마이너스가 된다면 시계 반대방향으로 회전할 것</span></span><br><span class="line">  ctx.strokeRect(-<span class="number">50</span>, -<span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">  <span class="comment">// 해당 도형 내 기준점(0, 0 이라면 좌측상단이 됨)에서 100, 100 크기의 사각형을 그림</span></span><br><span class="line">  ctx.restore();</span><br><span class="line">  <span class="comment">// 저장된 디폴트값을 불러옴</span></span><br><span class="line"></span><br><span class="line">  scaleValue += <span class="number">0.01</span>;</span><br><span class="line">  rotationValue -= <span class="number">2</span>;</span><br><span class="line">  requestAnimationFrame(draw);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">draw();</span><br></pre></td></tr></table></figure>
<p><img src="/images/canvas11.JPG"><br><img src="/images/canvas12.gif"></p>
<ul>
<li>clearRect를 실행하지 않았을 때와 실행했을 때의 차이</li>
</ul>
<p><strong>해당 함수의 MDN 문서 링크</strong></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/save">ctx.save()</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/restore">ctx.restore()</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/scale">ctx.scale()</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/rotate">ctx.rotate()</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/stroke">ctx.stroke()</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillRect">ctx.fillRect()</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/transform">ctx.transform()</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/translate">ctx.translate()</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/strokeRect">ctx.strokeRect()</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/clearRect">ctx.clearRect()</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setTransform">ctx.setTransform()</a></p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/05/15/21-05-15-HTML5-Canvas-%EA%B8%B0%EC%B4%88-4/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/05/14/21-05-14-HTML5-Canvas-%EA%B8%B0%EC%B4%88-3/"
                            aria-label=": 21-05-14 HTML5 Canvas 기초 (3)"
                        >
                            21-05-14 HTML5 Canvas 기초 (3)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-05-14T11:58:23+09:00">
	
		    May 14, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/%EA%B0%9C%EB%B0%9C/">개발</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="HTML5-Canvas-기초-3"><a href="#HTML5-Canvas-기초-3" class="headerlink" title="HTML5 Canvas 기초 (3)"></a>HTML5 Canvas 기초 (3)</h2><p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=p8TsTUJj-kY"><img src="http://img.youtube.com/vi/p8TsTUJj-kY/mqdefault.jpg" alt="캔버스라이브강좌"></a></p>
<ul>
<li>캔버스 영역에 비디오 입히기</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Canvas<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Video<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">video</span> <span class="attr">class</span>=<span class="string">&quot;video&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./horse.mp4&quot;</span> <span class="attr">autoplay</span> <span class="attr">muted</span> <span class="attr">loop</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">&quot;canvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span> <span class="attr">height</span>=<span class="string">&quot;300&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.canvas&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> ctx = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span></span><br><span class="line"><span class="javascript">      ctx.font = <span class="string">&quot;bold 50px serif&quot;</span>;</span></span><br><span class="line"><span class="javascript">      ctx.fillStyle = <span class="string">&quot;white&quot;</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> subtitle = [</span></span><br><span class="line"><span class="javascript">        &#123; <span class="attr">time</span>: <span class="number">1</span>, <span class="attr">message</span>: <span class="string">&quot;Melody Lane&quot;</span>, <span class="attr">x</span>: <span class="number">270</span>, <span class="attr">y</span>: <span class="number">70</span> &#125;,</span></span><br><span class="line"><span class="javascript">        &#123; <span class="attr">time</span>: <span class="number">3</span>, <span class="attr">message</span>: <span class="string">&quot;Son of Orfevre&quot;</span>, <span class="attr">x</span>: <span class="number">270</span>, <span class="attr">y</span>: <span class="number">170</span> &#125;,</span></span><br><span class="line"><span class="javascript">        &#123; <span class="attr">time</span>: <span class="number">5</span>, <span class="attr">message</span>: <span class="string">&quot;8th May&quot;</span>, <span class="attr">x</span>: <span class="number">270</span>, <span class="attr">y</span>: <span class="number">920</span> &#125;,</span></span><br><span class="line">      ];</span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> canPlayState = <span class="literal">false</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      ctx.textAlign = <span class="string">&quot;center&quot;</span>;</span></span><br><span class="line"><span class="javascript">      ctx.fillText(<span class="string">&quot;loading video...&quot;</span>, <span class="number">250</span>, <span class="number">150</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> videoElem = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.video&quot;</span>);</span></span><br><span class="line"><span class="javascript">      videoElem.addEventListener(<span class="string">&quot;canplaythrough&quot;</span>, render); <span class="comment">// 이미지는 load, 비디오는 canplaythrough 이벤트를 사용</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        ctx.drawImage(videoElem, 0, 0, 540, 960);</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; subtitle.length; i++) &#123;</span></span><br><span class="line">          if (videoElem.currentTime &gt; subtitle[i].time) &#123;</span><br><span class="line"><span class="javascript">            <span class="comment">// currentTime 변수는 재생 시간을 나타내고 이는 재생시간에 맞춰 자동으로 증가함</span></span></span><br><span class="line">            ctx.fillText(subtitle[i].message, subtitle[i].x, subtitle[i].y);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        requestAnimationFrame(render); <span class="comment">// 영상이 재렌더링 될 때마다 자막을 시간에 맞춰 전부 입힘</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>비디오의 픽셀 조작</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.canvas&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> videoElem = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.video&quot;</span>);</span><br><span class="line">videoElem.addEventListener(<span class="string">&quot;canplaythrough&quot;</span>, render);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> btnsElem = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.btns&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> imageData;</span><br><span class="line"><span class="keyword">const</span> particles = [];</span><br><span class="line"><span class="keyword">let</span> particle;</span><br><span class="line"><span class="keyword">let</span> colorValue;</span><br><span class="line"><span class="keyword">let</span> leng;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ctx.drawImage(videoElem, <span class="number">0</span>, <span class="number">0</span>, <span class="number">600</span>, <span class="number">400</span>);</span><br><span class="line">  imageData = ctx.getImageData(<span class="number">0</span>, <span class="number">0</span>, <span class="number">600</span>, <span class="number">400</span>);</span><br><span class="line">  leng = imageData.data.length / <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; leng; i++) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (colorValue) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;red&quot;</span>:</span><br><span class="line">        imageData.data[i * <span class="number">4</span> + <span class="number">0</span>] = <span class="number">255</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;green&quot;</span>:</span><br><span class="line">        imageData.data[i * <span class="number">4</span> + <span class="number">1</span>] = <span class="number">255</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;blue&quot;</span>:</span><br><span class="line">        imageData.data[i * <span class="number">4</span> + <span class="number">2</span>] = <span class="number">255</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ctx.putImageData(imageData, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  requestAnimationFrame(render);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">btnsElem.addEventListener(<span class="string">&quot;click&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  colorValue = e.target.getAttribute(<span class="string">&quot;data-color&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><img src="/images/canvas09.JPG"></p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/05/14/21-05-14-HTML5-Canvas-%EA%B8%B0%EC%B4%88-3/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/05/13/21-05-13-HTML5-Canvas-%EA%B8%B0%EC%B4%88-2/"
                            aria-label=": 21-05-13 HTML5 Canvas 기초 (2)"
                        >
                            21-05-13 HTML5 Canvas 기초 (2)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-05-13T09:46:31+09:00">
	
		    May 13, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/%EA%B0%9C%EB%B0%9C/">개발</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="HTML5-Canvas-기초-2"><a href="#HTML5-Canvas-기초-2" class="headerlink" title="HTML5 Canvas 기초 (2)"></a>HTML5 Canvas 기초 (2)</h2><p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=ovf8cbKtBH0"><img src="http://img.youtube.com/vi/ovf8cbKtBH0/mqdefault.jpg" alt="캔버스라이브강좌"></a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ctx = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.canvas&quot;</span>).getContext(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> imgElem = <span class="keyword">new</span> Image();</span><br><span class="line">imgElem.src = <span class="string">&quot;./dog.jpg&quot;</span>;</span><br><span class="line">imgElem.addEventListener(<span class="string">&quot;load&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  ctx.drawImage(imgElem, <span class="number">50</span>, <span class="number">50</span>, <span class="number">200</span>, <span class="number">200</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><img src="/images/canvas06.JPG"></p>
<ul>
<li>drawImage함수는 세 가지 패턴으로 나뉘고 아래와 같다</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> ctx.drawImage(image, dx, dy);</span><br><span class="line"><span class="comment">// 이미지 객체를 캔버스 내 x, y 좌표에 그림</span></span><br><span class="line"><span class="keyword">void</span> ctx.drawImage(image, dx, dy, dWidth, dHeight);</span><br><span class="line"><span class="comment">// 이미지 객체를 캔버스 내 x, y 좌표에 dWidth * dHeight로 그림</span></span><br><span class="line"><span class="keyword">void</span> ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);</span><br><span class="line"><span class="comment">// 이미지 객체를 (sx, sy) 좌표로부터 sWidth * sHeight만큼 크롭하여</span></span><br><span class="line"><span class="comment">// 캔버스 내 (x, y)에 dWidth * dHeight로 그림</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.canvas&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> control = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.control&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> drawingMode = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">let</span> colorVal = <span class="string">&quot;black&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">moveHandler</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!drawingMode) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  ctx.beginPath();</span><br><span class="line">  ctx.arc(e.layerX, e.layerY, <span class="number">10</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>, <span class="literal">false</span>);</span><br><span class="line">  ctx.fill();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">downHandler</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  drawingMode = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">upHandler</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  drawingMode = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setColor</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  colorVal = e.target.getAttribute(<span class="string">&quot;data-color&quot;</span>);</span><br><span class="line">  ctx.fillStyle = colorVal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">canvas.addEventListener(<span class="string">&quot;mousedown&quot;</span>, downHandler);</span><br><span class="line">canvas.addEventListener(<span class="string">&quot;mousemove&quot;</span>, moveHandler);</span><br><span class="line">canvas.addEventListener(<span class="string">&quot;mouseup&quot;</span>, upHandler);</span><br><span class="line">control.addEventListener(<span class="string">&quot;click&quot;</span>, setColor);</span><br></pre></td></tr></table></figure>
<p><img src="/images/canvas07.JPG"></p>
<ul>
<li>색상 버튼을 이용해 선 색상을 바꾸기</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createIamge</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> url = canvas.toDataURL(<span class="string">&quot;image/png&quot;</span>); <span class="comment">// 이미지 타입을 정의하여 매개변수로</span></span><br><span class="line">  <span class="keyword">const</span> imgElem = <span class="keyword">new</span> Image(); <span class="comment">// 이미지 객체를 새로 생성하고</span></span><br><span class="line">  imgElem.src = url; <span class="comment">// 해당 url을 할당</span></span><br><span class="line">  resultImage.appendChild(imgElem); <span class="comment">// 자식으로 추가</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p><img src="/images/canvas08.JPG"></p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/05/13/21-05-13-HTML5-Canvas-%EA%B8%B0%EC%B4%88-2/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/05/12/21-05-12-HTML5-Canvas-%EA%B8%B0%EC%B4%88-1/"
                            aria-label=": 21-05-12 HTML5 Canvas 기초 (1)"
                        >
                            21-05-12 HTML5 Canvas 기초 (1)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-05-12T12:23:02+09:00">
	
		    May 12, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/%EA%B0%9C%EB%B0%9C/">개발</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="HTML5-Canvas-기초-1"><a href="#HTML5-Canvas-기초-1" class="headerlink" title="HTML5 Canvas 기초 (1)"></a>HTML5 Canvas 기초 (1)</h2><p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=JFQOgt5DMBY"><img src="http://img.youtube.com/vi/JFQOgt5DMBY/mqdefault.jpg" alt="캔버스라이브강좌"></a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Canvas<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .canvas &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background</span>: <span class="number">#eee</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>캔버스 사이즈 설정<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">&quot;canvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span> <span class="attr">height</span>=<span class="string">&quot;300&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">&quot;canvas canvas2&quot;</span> <span class="attr">width</span>=<span class="string">&quot;1000&quot;</span> <span class="attr">height</span>=<span class="string">&quot;600&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.canvas&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> canvas2 = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.canvas2&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> context = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> context2 = canvas2.getContext(<span class="string">&quot;2d&quot;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      context.arc(<span class="number">100</span>, <span class="number">100</span>, <span class="number">50</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>, <span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">      context2.arc(<span class="number">100</span>, <span class="number">100</span>, <span class="number">50</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>, <span class="literal">false</span>);</span></span><br><span class="line">      context.fill();</span><br><span class="line">      context2.fill();</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/images/canvas01.JPG"></p>
<ul>
<li>캔버스를 지정하고 queryselector로 캔버스 객체를 지정, 특정 함수를 이용함으로써 해당 객체 내에서 도형을 그릴 수 있다</li>
<li>자세한 내용은 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/ko/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes">MDN 문서</a>를 참고</li>
<li>arc(호) 함수는 arc(x, y, radius, startAngle, endAngle, anticlockwise)와 같은 형식으로 사용하며 (x, y)가 원점이고 반지름이 r인 anticlockwise 방향으로 향하는 (기본값은 시계방향 회전) 호를 그리게 된다. 이 원은 startAngle 에서 시작하여 endAngle 에서 끝남</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.canvas&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> context = canvas.getContext(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line"></span><br><span class="line">context.fillRect(<span class="number">50</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">context.fillStyle = <span class="string">&quot;red&quot;</span>;</span><br><span class="line">context.fillRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">context.clearRect(<span class="number">80</span>, <span class="number">80</span>, <span class="number">50</span>, <span class="number">50</span>);</span><br><span class="line">context.strokeRect(<span class="number">150</span>, <span class="number">150</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br></pre></td></tr></table></figure>
<p><img src="/images/canvas02.JPG"></p>
<ul>
<li>fillRect(사각형)함수는 fillRect(x, y, width, height)와 같은 형식으로 사용함 x, y 위치에 width, height에 맞는 사각형을 그린다</li>
<li>clearRect는 특정한 부분을 지우는 함수로 받는 인자는 fillRect와 같다. 마찬가지로 strokeRect는 사각형의 외선만 그리는 함수.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">&quot;canvas&quot;</span>).getContext(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">6</span>; j++) &#123;</span><br><span class="line">      ctx.fillStyle =</span><br><span class="line">        <span class="string">&quot;rgb(&quot;</span> +</span><br><span class="line">        <span class="built_in">Math</span>.floor(<span class="number">255</span> - <span class="number">42.5</span> * i) +</span><br><span class="line">        <span class="string">&quot;, &quot;</span> +</span><br><span class="line">        <span class="built_in">Math</span>.floor(<span class="number">255</span> - <span class="number">42.5</span> * j) +</span><br><span class="line">        <span class="string">&quot;, 0)&quot;</span>;</span><br><span class="line">      ctx.fillRect(j * <span class="number">25</span>, i * <span class="number">25</span>, <span class="number">25</span>, <span class="number">25</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/images/canvas03.JPG"></p>
<ul>
<li>fillStyle은 한번 설정되면 그 색으로만 도형을 그리기 때문에 각각 다른 색깔로 그리고 싶다면 매번 새로 설정해주어야한다.</li>
<li>위의 draw 함수를 사용한다면 색상 팔레트와 유사한 결과를 얻을 수 있다.</li>
</ul>
<p><img src="/images/canvas04.JPG"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ctx = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.canvas&quot;</span>).getContext(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line"></span><br><span class="line">ctx.beginPath();</span><br><span class="line"></span><br><span class="line">ctx.moveTo(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">ctx.lineTo(<span class="number">300</span>, <span class="number">200</span>);</span><br><span class="line">ctx.stroke();</span><br><span class="line">ctx.lineTo(<span class="number">100</span>, <span class="number">200</span>);</span><br><span class="line">ctx.stroke();</span><br><span class="line">ctx.lineTo(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">ctx.stroke();</span><br><span class="line">ctx.fillStyle = <span class="string">&quot;red&quot;</span>;</span><br><span class="line">ctx.fill();</span><br><span class="line"></span><br><span class="line">ctx.closePath();</span><br></pre></td></tr></table></figure>
<ul>
<li>선을 그리고자 할 때엔 (1) path를 시작, (2) 시작점으로 옮기고, (3) 이동경로를 설정하고, (4) 선을 그려준다. 만약 이 때 이 선들이 하나의 면을 만든다면 색을 주고 칠할 수도 있다.</li>
<li>beginPath()와 closePath()는 시작과 끝을 알리는 함수이며 moveTo, lineTo는 각각 x좌표와 y좌표를 매개변수로 받는 함수이다. 이 두 함수로 경로를 설정한다면 이후에는 stroke()나 fill()과 같은 함수로 선을 그리거나 도형을 채울 수 있다.</li>
</ul>
<p><img src="/images/canvas05.JPG"></p>
<ul>
<li>closePath()로 한 번 끊어주지 않으면 위 그림처럼 도형들이 이어져 그려지게 된다</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/05/12/21-05-12-HTML5-Canvas-%EA%B8%B0%EC%B4%88-1/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/05/10/21-05-10-%EC%98%AC-%ED%95%B4%EC%97%90%EB%8A%94-%EA%B3%A0%EC%B3%90%EC%95%BC-%ED%95%A0-10%EA%B0%80%EC%A7%80-%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EB%B2%84%EB%A6%87/"
                            aria-label=": 올 해에는 고쳐야 할 10가지 타입스크립트 버릇"
                        >
                            올 해에는 고쳐야 할 10가지 타입스크립트 버릇
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-05-10T12:46:41+09:00">
	
		    May 10, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/%EA%B0%9C%EB%B0%9C/">개발</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="올-해에는-고쳐야-할-10가지-타입스크립트-버릇"><a href="#올-해에는-고쳐야-할-10가지-타입스크립트-버릇" class="headerlink" title="올 해에는 고쳐야 할 10가지 타입스크립트 버릇"></a>올 해에는 고쳐야 할 10가지 타입스크립트 버릇</h1><p><a target="_blank" rel="noopener" href="https://startup-cto.net/10-bad-typescript-habits-to-break-this-year/">참고</a></p>
<p>타입스크립트와 자바스크립트는 작년에도 꾸준히 발전해왔고, 최근 10년 동안 몇몇 습관들이 정착되었다. 몇몇은 전혀 쓸모가 없었다. 여기 우리가 고쳐야 할 10가지 습관들을 적어본다.</p>
<ol>
<li><code>strict</code> 모드를 사용하지 않는 것</li>
</ol>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// in tsconfig.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;target&quot;</span>: <span class="string">&quot;ES2015&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;module&quot;</span>: <span class="string">&quot;commonjs&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ↓↓↓ it should look like ↓↓↓</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;target&quot;</span>: <span class="string">&quot;ES2015&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;module&quot;</span>: <span class="string">&quot;commonjs&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;strict&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>기본값들을 <code>||</code>로 정의하지 않기</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createBlogPost</span>(<span class="params">text: <span class="built_in">string</span>, author: <span class="built_in">string</span>, date?: <span class="built_in">Date</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    text: text,</span><br><span class="line">    author: author,</span><br><span class="line">    date: date || <span class="keyword">new</span> <span class="built_in">Date</span>(),</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ↓↓↓ it should look like ↓↓↓</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createBlogPost</span> (<span class="params">text: <span class="built_in">string</span>, author: <span class="built_in">string</span>, date: <span class="built_in">Date</span> = <span class="keyword">new</span> <span class="built_in">Date</span>()</span>)</span></span><br><span class="line"><span class="function">  <span class="title">return</span> </span>&#123;</span><br><span class="line">    text: text,</span><br><span class="line">    author: author,</span><br><span class="line">    date: date</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><code>any</code>를 사용하지 않기</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">loadProducts</span>(<span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">Product</span>[]&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> fetch(<span class="string">&quot;https://api.mysite.com/products&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> products: <span class="built_in">any</span> = <span class="keyword">await</span> response.json();</span><br><span class="line">  <span class="keyword">return</span> products;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ↓↓↓ it should look like ↓↓↓</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">loadProducts</span>(<span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">Product</span>[]&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> fetch(<span class="string">&quot;https://api.mysite.com/products&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> products: unknown = <span class="keyword">await</span> response.json(); <span class="comment">// any 대신에 unknown을 사용할 것</span></span><br><span class="line">  <span class="keyword">return</span> products <span class="keyword">as</span> Product[]; <span class="comment">// 또한, as를 사용하여 리턴값을 반드시 정의하기</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li><code>val as SomeType</code> 대신 <code>val is SomeType</code>을 사용하기</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 하지만 unknown을 쓰기보다는 타입가드를 적용하자</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">loadProducts</span>(<span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">Product</span>[]&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> fetch(<span class="string">&quot;https://api.mysite.com/products&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> products: unknown = <span class="keyword">await</span> response.json();</span><br><span class="line">  <span class="keyword">return</span> products <span class="keyword">as</span> Product[];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ↓↓↓ it should look like ↓↓↓</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArrayOfProducts</span>(<span class="params">obj: unknown</span>): <span class="title">obj</span> <span class="title">is</span> <span class="title">Product</span>[] </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.isArray(obj) &amp;&amp; obj.every(isProduct);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isProduct</span>(<span class="params">obj: unknown</span>): <span class="title">obj</span> <span class="title">is</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> obj != <span class="literal">null</span> &amp;&amp; <span class="keyword">typeof</span> (obj <span class="keyword">as</span> Product).id === <span class="string">&quot;string&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">loadProducts</span>(<span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">Product</span>[]&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> fetch(<span class="string">&quot;https://api.mysite.com/products&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> products: unknown = <span class="keyword">await</span> response.json();</span><br><span class="line">  <span class="keyword">if</span> (!isArrayOfProducts(products)) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">&quot;Received malformed products API response&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> products;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>일반 타입가드, 사용자 정의 타입가드에 관해서는 <a target="_blank" rel="noopener" href="https://infoscis.github.io/2017/06/19/TypeScript-handbook-advanced-types/">이 페이지</a>를 참고</li>
</ul>
<ol start="5">
<li><code>as any</code>를 테스트에서 사용하지 않기</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> User &#123;</span><br><span class="line">  id: <span class="built_in">string</span></span><br><span class="line">  firstName: <span class="built_in">string</span></span><br><span class="line">  lastName: <span class="built_in">string</span></span><br><span class="line">  email: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test(<span class="string">&#x27;createEmailText returns text that greats the user by first name&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> user: User = &#123;</span><br><span class="line">    firstName: <span class="string">&#x27;John&#x27;</span></span><br><span class="line">  &#125; <span class="keyword">as</span> <span class="built_in">any</span></span><br><span class="line"></span><br><span class="line">  expect(createEmailText(user)).toContain(user.firstName)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ↓↓↓ it should look like ↓↓↓</span></span><br><span class="line"><span class="keyword">interface</span> User &#123;</span><br><span class="line">  id: <span class="built_in">string</span></span><br><span class="line">  firstName: <span class="built_in">string</span></span><br><span class="line">  lastName: <span class="built_in">string</span></span><br><span class="line">  email: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MockUser</span> <span class="title">implements</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  id = <span class="string">&#x27;id&#x27;</span></span><br><span class="line">  firstName = <span class="string">&#x27;John&#x27;</span></span><br><span class="line">  lastName = <span class="string">&#x27;Doe&#x27;</span></span><br><span class="line">  email = <span class="string">&#x27;john@doe.com&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test(<span class="string">&#x27;createEmailText returns text that greats the user by first name&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> user = <span class="keyword">new</span> MockUser()</span><br><span class="line"></span><br><span class="line">  expect(createEmailText(user)).toContain(user.firstName)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>선택적 프로퍼티</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Product &#123;</span><br><span class="line">  id: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">type</span>: <span class="string">&quot;digital&quot;</span> | <span class="string">&quot;physical&quot;</span>;</span><br><span class="line">  weightInKg?: <span class="built_in">number</span>;</span><br><span class="line">  sizeInMb?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ↓↓↓ it should look like ↓↓↓</span></span><br><span class="line"><span class="keyword">interface</span> Product &#123;</span><br><span class="line">  id: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">type</span>: <span class="string">&quot;digital&quot;</span> | <span class="string">&quot;physical&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 선택적 프로퍼티가 적용되는 타입에 따라 객체가 각각 다른 구조를 갖는다면 상속을 활용할 것</span></span><br><span class="line"><span class="keyword">interface</span> DigitalProduct <span class="keyword">extends</span> Product &#123;</span><br><span class="line">  <span class="keyword">type</span>: <span class="string">&quot;digital&quot;</span>;</span><br><span class="line">  sizeInMb: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> PhysicalProduct <span class="keyword">extends</span> Product &#123;</span><br><span class="line">  <span class="keyword">type</span>: <span class="string">&quot;physical&quot;</span>;</span><br><span class="line">  weightInKg: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="7">
<li>한 글자의 제네릭을 사용하지 않기</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 제네릭 또한 변수명처럼 사용해야한다. 말인즉슨 알아보기 쉬워야 한다</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">head</span>&lt;<span class="title">T</span>&gt;(<span class="params">arr: T[]</span>): <span class="title">T</span> | <span class="title">undefined</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ↓↓↓ it should look like ↓↓↓</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">head</span>&lt;<span class="title">Element</span>&gt;(<span class="params">arr: Element[]</span>): <span class="title">Element</span> | <span class="title">undefined</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="8">
<li>자바스크립트에서 제공하는 non-boolean형 타입추론 체크 대신 자발적인 타입 체크를 사용할 것</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createNewMessagesResponse</span>(<span class="params">countOfNewMessages?: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (countOfNewMessages) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`You have <span class="subst">$&#123;countOfNewMessages&#125;</span> new messages`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;Error: Could not retrieve number of new messages&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ↓↓↓ it should look like ↓↓↓</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createNewMessagesResponse</span>(<span class="params">countOfNewMessages?: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (countOfNewMessages !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`You have <span class="subst">$&#123;countOfNewMessages&#125;</span> new messages`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;Error: Could not retrieve number of new messages&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="9">
<li>Bang Bang 연산자(<code>!!</code>)를 사용하지 않기</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createNewMessagesResponse</span>(<span class="params">countOfNewMessages?: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!!countOfNewMessages) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`You have <span class="subst">$&#123;countOfNewMessages&#125;</span> new messages`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;Error: Could not retrieve number of new messages&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ↓↓↓ it should look like ↓↓↓</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createNewMessagesResponse</span>(<span class="params">countOfNewMessages?: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (countOfNewMessages !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`You have <span class="subst">$&#123;countOfNewMessages&#125;</span> new messages`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;Error: Could not retrieve number of new messages&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="10">
<li><code>!= null</code>은 이제 그만</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createNewMessagesResponse</span>(<span class="params">countOfNewMessages?: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (countOfNewMessages != <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`You have <span class="subst">$&#123;countOfNewMessages&#125;</span> new messages`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;Error: Could not retrieve number of new messages&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ↓↓↓ it should look like ↓↓↓</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createNewMessagesResponse</span>(<span class="params">countOfNewMessages?: <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (countOfNewMessages !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`You have <span class="subst">$&#123;countOfNewMessages&#125;</span> new messages`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;Error: Could not retrieve number of new messages&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/05/10/21-05-10-%EC%98%AC-%ED%95%B4%EC%97%90%EB%8A%94-%EA%B3%A0%EC%B3%90%EC%95%BC-%ED%95%A0-10%EA%B0%80%EC%A7%80-%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EB%B2%84%EB%A6%87/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/04/30/%ED%86%A0%EC%8A%A4-SLASH-21-%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EA%B4%80%EB%A0%A8-%EB%B0%9C%ED%91%9C-%EB%82%B4%EC%9A%A9-%EC%A0%95%EB%A6%AC/"
                            aria-label=": 토스 SLASH 21 프론트엔드 관련 발표 내용 정리"
                        >
                            토스 SLASH 21 프론트엔드 관련 발표 내용 정리
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-04-30T09:25:35+09:00">
	
		    Apr 30, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/%EA%B0%9C%EB%B0%9C/">개발</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="토스-SLASH-21"><a href="#토스-SLASH-21" class="headerlink" title="토스 | SLASH 21"></a>토스 | SLASH 21</h1><p>예비 프론트 엔드 개발자로서 보면 좋을 것 같은 발표들을 정리</p>
<p><a target="_blank" rel="noopener" href="https://toss.im/slash-21#">SLASH 페이지</a></p>
<h3 id="1-Micro-frontend-React-점진적으로-도입하기"><a href="#1-Micro-frontend-React-점진적으로-도입하기" class="headerlink" title="1. Micro-frontend React, 점진적으로 도입하기"></a><strong>1. Micro-frontend React, 점진적으로 도입하기</strong></h3><details>
<summary>열어보기</summary>
<div markdown ="1">

<ul>
<li>이 발표에서 소개하는 것</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(1) Django MVC 프로젝트에 점진적으로 React를 도입한 방법</span><br><span class="line">(2) 마이크로 프론트엔드 아키텍처를 도입한 이유와 후기</span><br><span class="line">(3) 프론트엔드 빌드 시간을 효과적으로 단축한 비법</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>(1) Django MVC 프로젝트에 점진적으로 React를 도입한 방법</strong></p>
<blockquote>
<p>토스의 서버사이드에서 HTML 템플릿을 렌더링하는 모놀리식 Django MVC 프로젝트에서 모던 리액트 코드로 어떻게 이전했는지?</p>
</blockquote>
<ul>
<li>시작은 create-react-app을 사용해 빠른 프로젝트를 빌드</li>
<li>복잡한 webpack, Babel, ESLint 등의 설정을 건너뛰게 해 줄 것이라 믿음</li>
<li>완전한 SPA가 아니고 Django와 함께 사용할 때엔 설정의 충돌이 많이 있었음 → 처음부터 설정을 해보자</li>
</ul>
<p><img src="/images/create-react-app.png" alt="create-react-app"></p>
<ul>
<li>webpack-bundle-tracker(wbt), django-webpack-loader(dwl)를 사용</li>
<li>wbt는 빌드 결과물의 chunk 정보를 JSON 파일로 추출해주고 dwl은 이 JSON파일을 토대로 스크립트 태그나 링크 태그를 생성해줌</li>
<li>많은 부분이 리액트로 바뀌고 나니 패키지 관리가 어려워지고 빌드 시간이 길어짐</li>
<li>그래서 Micro-frontend 아키텍처를 사용하기로 함</li>
<li><strong>기존의 거대한 소스 코드를 독립적인 패키지(인프라, 라이브러리, 서비스 패키지)로 각각 분리함</strong></li>
<li>이를 위해 Yarn 2와 Workspace Plugin을 사용 중</li>
<li>이로서 소스 코드부터 빌드 설정까지 완벽하게 격리되고, 의존성 지옥을 탈출할 수 있으며, 빌드 속도도 최적화됨</li>
<li>빌드 시간을 줄이는 가장 좋은 방법은 빌드를 하지 않는 것</li>
<li><strong>소드코드가 바뀐 패키지만 빌드</strong>하고 나머지는 <strong>기존 빌드 결과물을 재사용</strong></li>
<li>Git을 통해 패키지의 변화를 캐치(Git의 해시를 사용)하고 변화가 감지된 패키지만 빌드</li>
</ul>
</div>
</details>

<hr>
<h3 id="2-프론트엔드-웹-서비스에서-우아하게-비동기-처리하기"><a href="#2-프론트엔드-웹-서비스에서-우아하게-비동기-처리하기" class="headerlink" title="2. 프론트엔드 웹 서비스에서 우아하게 비동기 처리하기"></a>2. 프론트엔드 웹 서비스에서 우아하게 비동기 처리하기</h3><details>
<summary>열어보기</summary>
<div markdown ="2">

<blockquote>
<p>웹 서비스에서 가장 다루기 어려운 부분은 무엇인가?</p>
</blockquote>
<ul>
<li>jQuery의 명령형 프로그래밍에서 React/Vue와 같은 프레임워크의 사용으로 선언형 프로그래밍으로 전환</li>
<li>비동기 프로그래밍은 끊기지 않는 60 프레임의 좋은 사용자 경험을 위해서는 필수</li>
<li>예시 코드 1</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBazFromX</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (x === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (x.foo === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (x.foo.bar === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> x.foo.bar.baz;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>문제점<br>→ 하는 일은 단순하지만 코드가 너무 복잡함<br>→ 각 프로퍼티에 접근하는 핵심 기능이 코드로 잘 드러나지 않음</p>
</li>
<li><p>해결책<br>→ OptionalChaining 문법을 활용</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBazFromX</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// if문이 사라져 코드가 간결해짐</span></span><br><span class="line">  <span class="comment">// 함수의 역할이 ?를 통해 잘 드러남</span></span><br><span class="line">  <span class="keyword">return</span> x?.foo?.bar?.baz;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>예시 코드 2</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fetchAccounts</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">    fetchUserEntity(err, user) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (err != <span class="literal">null</span>) &#123;</span><br><span class="line">            callback(err, <span class="literal">null</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        fetchUserAccounts(user.me, <span class="function">(<span class="params">err, accounts</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (err != <span class="literal">null</span>) &#123;</span><br><span class="line">                callback(err, <span class="literal">null</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            callback(<span class="literal">null</span>, accounts);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><p>문제점<br>→ 코드가 너무 복잡함<br>→ 성공 케이스와 실패 케이스가 섞여서 처리됨<br>→ 매번 에러 유무를 확인해야 함</p>
</li>
<li><p>해결책<br>→ async-await 문법을 활용하기<br>→ 비동기처리를 이용해 성공 케이스만을 다루고 실패 케이스는 catch문을 사용해서 처리함으로써 실패 케이스를 외부에 위임할 수 있다</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fetchAccounts</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> user = <span class="keyword">await</span> fetchUserEntity();</span><br><span class="line">  <span class="keyword">const</span> accounts = <span class="keyword">await</span> fetchUserAccounts(user.no);</span><br><span class="line">  <span class="keyword">return</span> accounts;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>예시를 통해 알 수 있는 좋은 코드와 나쁜 코드의 특징</p>
<ul>
<li>좋은 코드 : 성공, 실패 케이스를 분리해 처리 가능, 비즈니스 로직을 한눈에 파악할 수 있다</li>
<li>나쁜 코드 : 성공, 실패 케이스가 서로 섞임, 비즈니스 로직의 파악이 어려움</li>
</ul>
</li>
<li><p>비동기를 처리하는 부분을 정의하기</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SWR이나 React Query를 사용하여 비동기를 정의</span></span><br><span class="line"><span class="keyword">const</span> &#123; data, error &#125; = useAsyncValue(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> fetchSomething();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 컴포넌트에서 로딩과 에러 처리를 동시에 수행함</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Profile</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> foo = useAsyncValue(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fetchFoo();</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (foo.error) <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>로딩에 실패했습니다.<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">  <span class="keyword">if</span> (!foo.data) <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>로딩 중입니다...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;foo.data.name&#125;님 안녕하세요!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>→ 이는 나쁜 코드</p>
<ul>
<li><p>비동기 코드가 여러개가 섞이게 되면 비동기 지옥이 됨</p>
</li>
<li><p>2개의 비동기 리소스를 가져올 때 상태가 각각 ‘로딩, 에러, 완료’로 나뉜다면 이 때 상태는 3의 제곱으로 9가지 상태를 가질 수 있음</p>
</li>
<li><p>리액트에서는 더더욱 이 비동기 처리가 어려운데 React팀에서는 <strong>React Suspense for Data Fetching</strong>도구를 제공함(아직은 실험 버전에서만 사용 할 수 있음)</p>
</li>
<li><p>어떻게 에러 상태와 로딩 상태를 분리하는가?</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    1. 컴포넌트를 쓰는 쪽에서 로딩처리와 에러 처리를 한다</span></span><br><span class="line"><span class="comment">    2. 로딩 상태는 가장 가까운 Suspense의 Fallback으로 그려진다</span></span><br><span class="line"><span class="comment">    3. 에러 상태는 가장 가까운 ErrorBoundary가 componentDidCatch()로 처리</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">&lt;ErrorBoundary fallback=&#123;&lt;MyErrorPage /&gt;&#125;&gt;</span><br><span class="line">  &lt;Suspense fallback=&#123;&lt;Loader /&gt;&#125;&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">FooBar</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">Suspense</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ErrorBoundary</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>Recoil에서는 Async Selector를, SWR, React Query에서는 <code>&#123; suspense: true&#125;</code>를 정의해주면 된다</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserName</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> user = <span class="built_in">JSON</span>.parse(fetchTextSync(<span class="string">&quot;/users&quot;</span> + id));</span><br><span class="line">  <span class="keyword">return</span> user.name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getGreeting</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (name === <span class="string">&quot;Seb&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hey&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> fetchTextSync(<span class="string">&quot;/greeting&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMessage</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> name = getUserName(<span class="number">123</span>);</span><br><span class="line">  <span class="keyword">return</span> getGreeting(name) + <span class="string">&quot;, &quot;</span> + name + <span class="string">&quot;!&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">runPureTask(getMassage).then(<span class="function">(<span class="params">message</span>) =&gt;</span> <span class="built_in">console</span>.log(message));</span><br></pre></td></tr></table></figure>
<ul>
<li>Recoil의 비동기 셀렉터</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> templateSetSelector = selectorFamily(&#123;</span><br><span class="line">  key: <span class="string">&quot;@messages/template-set&quot;</span>,</span><br><span class="line">  get: <span class="function">(<span class="params">no: <span class="built_in">number</span></span>) =&gt;</span> <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> fetchTemplateSet(no);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> historiesOfTemplateSetSelector = selectorFamily(&#123;</span><br><span class="line">  key: <span class="string">&quot;@pages/messenger/template-set/histories&quot;</span>,</span><br><span class="line">  get: <span class="function">(<span class="params">templateSetNo: <span class="built_in">number</span></span>) =&gt;</span> <span class="keyword">async</span> (&#123; get &#125;) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> fetchHistoriesOfTemplateSet(templateSetNo);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">TemplateSetDetails</span>(<span class="params">&#123; templateSetNo &#125;: Props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> templateSet = useRecoilValue(templateSetSelector(templateSetNo));</span><br><span class="line">  <span class="comment">/* 이 아래에서는 templateSet이 보장됨(타입가드가 필요 없음) */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>React hooks와 suspense의 유사도</p>
</li>
<li><p>Hooks에서는 useState, useMemo, useCallback, useEffect와 같은 선언적 코드를 통해 웹 서비스의 코드 복잡도를 낮춰줌</p>
</li>
<li><p>실제 상태 관리, 메모이제이션과 같은 작업은 React 프레임워크가 대신 수행함</p>
</li>
<li><p>suspense를 사용할 때에도 컴포넌트에서 비동기적인 리소스를 선언하고 그 값을 읽어온다고 선언하면 컴포넌트를 감싸는 부모 컴포넌트가 대신 수행함</p>
</li>
<li><p>try-catch문을 통해 실패할 수 있는 함수는 throw를 통해 부모 함수로 던지고 이 에러 처리를 부모 함수가 수행함</p>
</li>
<li><p>이런 책임 분리 방식을 <strong>대수적 효과</strong>라고 함</p>
</li>
<li><p>하지 못한 이야기들…<br>→ <strong>React Concurrent Mode, useTransition, useDeferredValue</strong> 등<br>→ React에서 부분적으로 렌더 트리를 완성함으로써 더 나은 사용자 경험 향상 가능</p>
</li>
</ul>
<p>참고자료1 : <a target="_blank" rel="noopener" href="https://ko.reactjs.org/docs/concurrent-mode-suspense.html">데이터를 가져오기 위한 Suspense (실험 단계)</a><br>참고자료2 : <a target="_blank" rel="noopener" href="https://overreacted.io/ko/algebraic-effects-for-the-rest-of-us/">Algebraic Effects for the Rest of Us</a></p>
</div>
</details>

<hr>
<h3 id="3-JavaScript-Bundle-Diet"><a href="#3-JavaScript-Bundle-Diet" class="headerlink" title="3. JavaScript Bundle Diet"></a>3. JavaScript Bundle Diet</h3><details>
<summary>열어보기</summary>
<div markdown ="3">

<ul>
<li>사용자는 느린 로딩을 참지 못한다 (5초 초과시 이탈율 38%)</li>
<li>API 호출이 너무 많거나 이미지 처리 등 다양한 원인으로 느려질 수 있음</li>
<li>번들 사이즈는 그 중 하나</li>
<li>자바스크립트는 파일을 다운로드하고 파싱한 후에 컴파일을 하고 실행까지 하는 등 같은 용량이더라도 처리 비용이 크다</li>
<li>Webpack Analyse는 가장 다양한 정보를 주지만 사용하기 어려움</li>
<li>Webpack Visualizer는 깔끔한 시각화를 보여주지만 기능이 부족함</li>
<li>그래서 Webpack Bundle Analyzer를 추천함</li>
<li><strong>번들 용량을 줄일 때 가장 먼저 해야 할 일</strong> : 용량이 큰 라이브러리는 가벼운 라이브러리로, 용도가 겹치는 라이브러리는 하나로 통일</li>
<li>여러 라이브러리가 다른 버전의 라이브러리를 참조하는 경우 Dependency confilict가 일어남</li>
<li>npm은 라이브러리를 트리 구조로 저장하기 때문에 node_modules가 과도하게 커지게 됨</li>
<li>npm dedupe 명령어와 yarn deduplicate 패키지, yarn 2에선 dedupe 명령어가 생김</li>
<li>webpack alias기능을 이용한다면 동일한 라이브러리의 중복을 피할 수 있음</li>
<li>lodash는 기능에 비해 용량이 클 수 있다</li>
<li>따라서 가능한 네이티브 함수를 이용하거나 더 가벼운 함수로 구현하여 사용 중임 (<a target="_blank" rel="noopener" href="https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore">참고자료</a>)</li>
<li>polyfill도 고려할 것</li>
<li><a target="_blank" rel="noopener" href="https://bundlephobia.com/">Bundle Phobia</a>를 통해 버전별 번드 용량, 해당 라이브러리의 디펜던시를 분석 할 수 있다</li>
<li><strong>더 가벼운 라이브러리를 만들 때</strong>엔 tree-shaking를 고려할 것</li>
<li>하지만 tree-shaking은 side effect가 없을 때에만 가능</li>
<li>terser를 사용하면 terser가 <code>/*#__PURE__**/</code>를 발견하면 해당 코드에 side effect가 없다고 판단함 (Babel은 이런 pure annotation을 인식하지만 ts는 인식하지 못함)</li>
<li><strong>무거운 라이브러리의 영향을 줄이기</strong></li>
</ul>
</div>
</details>

<hr>
<h3 id="4-실무에서-바로-쓰는-Frontend-Clean-Code"><a href="#4-실무에서-바로-쓰는-Frontend-Clean-Code" class="headerlink" title="4. 실무에서 바로 쓰는 Frontend Clean Code"></a>4. 실무에서 바로 쓰는 Frontend Clean Code</h3><details>
<summary>열어보기</summary>
<div markdown ="4">

<ul>
<li>이 발표에서 소개하는 것</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. 실무에서 클린 코드의 의의</span><br><span class="line">2. 안일한 코드 추가의 함정</span><br><span class="line">3. 로직을 빠르게 찾을 수 있는 코드</span><br><span class="line">4. 액션 아이템</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>(1) 클린코드가 의미 있는 이유란?</strong></p>
<blockquote>
<p>“그 코드는 안건드리시는 게 좋을거에요. 일단 제가 만질게요.^^;;”</p>
</blockquote>
<p>→ 흐름 파악이 어렵고, 도메인 맥락 표현이 안 되어 동료에게 물어봐야 알 수 있는 코드<br>→ 이런 코드는 개발 시 병목되고 유지보수 시 오래 걸리고 심한 경우 기능 추가가 불가능한 상태가 됨</p>
<ul>
<li>실무에서 클린 코드의 의의는 <strong>유지보수 시간의 단축</strong>을 뜻한다.</li>
</ul>
<p><strong>(2) 안일한 코드 추가의 함정</strong></p>
<ul>
<li>기존 코드에 기능을 추가하다보면 일어날 수 있는 함정들</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">QP</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [popupOpened, setPopupOpened] = useState(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">handleQuestionSubmit</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> 약관동의 = <span class="keyword">await</span> 약관동의_받아오기();</span><br><span class="line">    <span class="keyword">if</span> (!약관동의) &#123;</span><br><span class="line">      <span class="keyword">await</span> 약관동의_팝업열기();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">await</span> 질문전송(questionValue);</span><br><span class="line">    alert(<span class="string">&quot;질문이 등록되었습니다.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">handleMyExpertQuestionSubmit</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">await</span> 연결전문가_질문전송(questionValue, 연결전문가.id);</span><br><span class="line">    alert(<span class="string">`<span class="subst">$&#123;연결전문가.name&#125;</span>에게 질문이 등록되었어요.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;main&gt;</span><br><span class="line">      &lt;form&gt;</span><br><span class="line">        &lt;textarea placeholder=<span class="string">&quot;어떤 내용이 궁금한가요?&quot;</span> /&gt;</span><br><span class="line">        &lt;Button onclick=&#123;handleQuestionSubmit&#125;&gt;질문하기&lt;/Button&gt;</span><br><span class="line">      &lt;/form&gt;</span><br><span class="line">      &#123;popupOpened &amp;&amp; (</span><br><span class="line">        &lt;연결전문가팝업 onSubmit=&#123;handleMyExpertQuestionSubmit&#125; /&gt;</span><br><span class="line">      )&#125;</span><br><span class="line">    &lt;/main&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>이 코드는…</strong></p>
<ul>
<li>하나의 목적인 코드가 여러 블럭으로 흩어져 있음</li>
<li>하나의 함수가 여러가지 일을 하고 있음</li>
<li>함수의 세부 구현 단계가 제각각임</li>
</ul>
<p><strong>그 때는 맞고 지금은 틀리다</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">QP</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> 연결전문가 = useFetch(연결전문가_받아오기);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 새 함수</span></span><br><span class="line">  <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">handleNewExpertQuestionSubmit</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">await</span> 질문전송(questionValue);</span><br><span class="line">    alert(<span class="string">&quot;질문이 등록되었어요.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">  <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">handleMyExpertQuestionSubmit</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">await</span> 연결전문가_질문전송(questionValue, 연결전문가.id);</span><br><span class="line">    alert(<span class="string">`<span class="subst">$&#123;연결전문가.name&#125;</span>에게 질문이 등록되었어요.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;main&gt;</span><br><span class="line">      &lt;form&gt;</span><br><span class="line">        &lt;textarea placeholder=<span class="string">&quot;어떤 내용이 궁금한가요?&quot;</span> /&gt;</span><br><span class="line">        &#123;연결전문가.connected ? (</span><br><span class="line">        &lt;PopupTriggerButton</span><br><span class="line">            popup=&#123;&#123;</span><br><span class="line">                &lt;연결전문가팝업</span><br><span class="line">                onButtonSubmit=&#123;handleMyExpertQuestionSubmit&#125;/&gt;</span><br><span class="line">            &#125;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">        질문하기 &lt;/PopupTriggerButton&gt;</span><br><span class="line">        ) : (</span><br><span class="line">        &lt;Button onClick=&#123;<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">            <span class="keyword">await</span> openPopupToNotAgreedUsers();</span><br><span class="line">            <span class="keyword">await</span> handleMyExpertQuestionSubmit();</span><br><span class="line">        &#125;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">        질문하기</span><br><span class="line">        &lt;/Button&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">    &lt;/main&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">openPopupToNotAgreedUsers</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> 약관동의 = <span class="keyword">await</span> 약관동의_받아오기();</span><br><span class="line">    <span class="keyword">if</span>(!약관동의) &#123;</span><br><span class="line">        <span class="keyword">await</span> 약관동의_팝업열기();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>클린코드란 원하는 로직을 빠르게 찾을 수 있는 코드</li>
</ul>
<p><strong>(3) 로직을 빠르게 찾을 수 있는 코드</strong></p>
<ol>
<li><strong>응집도</strong>: 같은 목적의 코드는 뭉쳐두자</li>
</ol>
<ul>
<li>무엇을? <strong>당장 몰라도 되는 디테일</strong></li>
<li>코드 파악에 필수적인 핵심 정보를 뭉치면 오히려 답답해짐</li>
<li>어떻게 응집시킬까?<ul>
<li>첫번째, 남겨야 할 핵심 데이터와 숨겨야 할 세부 데이터를 나누기</li>
<li>두번째, 핵심 데이터는 밖에서 전달, 나머지는 뭉친다</li>
</ul>
</li>
<li>이를 <strong>선언적 프로그래밍</strong>이라 한다</li>
<li>그렇다고 선언적인 코드가 무조건 좋은 것은 아니다</li>
</ul>
<ol start="2">
<li><strong>단일책임</strong>: 하나의 일을 하는 뚜렷한 이름의 함수를 만들자</li>
</ol>
<ul>
<li>일단, 함수 이름을 지어보자 → 함수가 하는 일을 모두 표현할 수 있는 이름을 짓자</li>
<li>한 가지 일만 하는 명확한 이름의 함수로 쪼개기</li>
<li>비슷한 방식으로 한 가지 일만 하는 기능성 컴포넌트 만들기 (React Hooks)</li>
<li>조건이 많아지면 오히려 한글 변수명을 사용하는 게 더 좋을 수도 있다 (마치 주석을 달아놓은 것만 같은 효과도 있음 )</li>
</ul>
<ol start="3">
<li><strong>추상화</strong>: 핵심 개념을 뽑아내자</li>
</ol>
<ul>
<li>컴포넌트로 추상화하기</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 팝업 코드 제로부터 구현</span></span><br><span class="line">&lt;div style=&#123;팝업스타일&#125;&gt;</span><br><span class="line">    &lt;button onClick=&#123;<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> res = <span class="keyword">await</span> 회원가입();</span><br><span class="line">        <span class="keyword">if</span> (res.success) &#123;</span><br><span class="line">            프로필로이동();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;&#125;&gt;전송&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 중요 개념만 남기고 추상화</span></span><br><span class="line">&lt;Popup</span><br><span class="line">    onSubmit=&#123;회원가입&#125;</span><br><span class="line">    onSuccess=&#123;프로필로이동&#125;</span><br><span class="line">/&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>함수를 추상화하기</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 설계사 라벨을 얻는 함수 구현</span></span><br><span class="line"><span class="keyword">const</span> planner = <span class="keyword">await</span> fetchPlanner(plannerId);</span><br><span class="line"><span class="keyword">const</span> label = planner.name ? <span class="string">&quot;새로운 상담사&quot;</span> : <span class="string">&quot;연결중인 상담사&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 중요 개념을 함수 이름에 담아 추상화</span></span><br><span class="line"><span class="keyword">const</span> label = <span class="keyword">await</span> getPlannerLabel(plannerId);</span><br></pre></td></tr></table></figure>
<p><strong>얼마나 추상화할 것인가?</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Level 0</span></span><br><span class="line">&lt;Button onClick=&#123;showConfirm&#125;&gt;전송&lt;/Button&gt;;</span><br><span class="line">&#123;</span><br><span class="line">  isShoConfirm &amp;&amp; (</span><br><span class="line">    &lt;Confirm</span><br><span class="line">      onClick=&#123;<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        showMessage(<span class="string">&quot;성공&quot;</span>);</span><br><span class="line">      &#125;&#125;</span><br><span class="line">    /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Level 1</span></span><br><span class="line">&lt;ConfirmButton</span><br><span class="line">  onConfirm=&#123;<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    showMessage(<span class="string">&quot;성공&quot;</span>);</span><br><span class="line">  &#125;&#125;</span><br><span class="line">&gt;</span><br><span class="line">  전송</span><br><span class="line">&lt;/ConfirmButton&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Level 2</span></span><br><span class="line">&lt;ConfirmButton message=<span class="string">&quot;성공&quot;</span>&gt;전송&lt;/ConfirmButton&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Level 3</span></span><br><span class="line">&lt;ConfirmButton /&gt;;</span><br></pre></td></tr></table></figure>
<ul>
<li>꼭 레벨3가 정답이 아님 → 상황에 따라 다름</li>
<li>추상화 수준이 섞여있다면 코드 파악이 어려우니 주의할 것</li>
</ul>
<ol start="4">
<li><strong>액션 아이템</strong></li>
</ol>
<ul>
<li><strong>담대하게 기존 코드 수정하기</strong>: 두려워하지 말고 기존 코드를 씹고 뜯고 맛보고 즐기자</li>
<li><strong>큰 그림 보는 연습하기</strong>: 그 때는 맞고 지금은 틀리다. 기능 추가 자체는 클린해도 전체적으로는 어지러울 수 있다</li>
<li><strong>팀과 함께 공감대 형성하기</strong>: 코드에 정답은 없다. 명시적으로 이야기를 하는 시간이 필요하다</li>
<li><strong>문서로 적어보기</strong>: 글로 적어야 명확해진다. 향후 어떤 점에서 위험할 수 있는지, 어떻게 개선할 수 있는지를 정리해두기</li>
</ul>
</div>
</details>

<hr>
<h4 id="느낀점"><a href="#느낀점" class="headerlink" title="느낀점"></a>느낀점</h4><ul>
<li>프론트엔드 엔지니어는 <strong>끝없이 더 나은 사용자 경험을 위해 투쟁</strong>하는 사람들이다</li>
<li>개발에 필요한 스킬만이 중요한 것이 아니다, 결국은 협업, <strong>팀플레이</strong>.</li>
<li>결국 코드를 적는 일도 글쓰기와 다르지 않다. 누군가에게 잘 읽히는 <strong>글</strong>을 써야 하는 것.</li>
<li>실무 레벨에서 필요한 스킬을 배웠다기 보다는 어떤 마음가짐을 배웠다는 게 더 중요했던 강의들이었다.</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/04/30/%ED%86%A0%EC%8A%A4-SLASH-21-%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EA%B4%80%EB%A0%A8-%EB%B0%9C%ED%91%9C-%EB%82%B4%EC%9A%A9-%EC%A0%95%EB%A6%AC/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/04/27/21-04-27-%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4%EB%A1%9C%EC%84%9C-%EB%A1%9C%EA%B7%B8%EC%9D%B8-UI-UX%EB%A5%BC-%ED%96%A5%EC%83%81%EC%8B%9C%ED%82%A4%EB%8A%94-%EB%B0%A9%EB%B2%95%EC%9D%B4%EB%9E%80/"
                            aria-label=": 21-04-27 프론트엔드 엔지니어로서 로그인 UI/UX를 향상시키는 방법이란"
                        >
                            21-04-27 프론트엔드 엔지니어로서 로그인 UI/UX를 향상시키는 방법이란
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-04-27T18:24:47+09:00">
	
		    Apr 27, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/%EA%B0%9C%EB%B0%9C/">개발</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="프론트엔드-엔지니어로서-로그인-UI-UX를-향상시키는-방법"><a href="#프론트엔드-엔지니어로서-로그인-UI-UX를-향상시키는-방법" class="headerlink" title="프론트엔드 엔지니어로서 로그인 UI/UX를 향상시키는 방법"></a>프론트엔드 엔지니어로서 로그인 UI/UX를 향상시키는 방법</h2><p><a target="_blank" rel="noopener" href="https://brunch.co.kr/@dalgudot/101">참고 페이지</a></p>
<ol>
<li>꼭 필요한 정보만 받기</li>
</ol>
<ul>
<li><strong>사용자에게 꼭 받아야 하는 정보</strong>가 무엇인지를 따져봐야 한다</li>
<li>아이디(이메일)을 입력하면 서버에 보내 회원인지를 판별하여 화면을 보여준다</li>
</ul>
<ol start="2">
<li>간편 로그인(Auth 2.0)을 제공하기</li>
</ol>
<ul>
<li>사용자가 키보드를 쓰지 않을 수 있는 방법이 있다면 키보드를 사용하지 않도록 디자인 하기</li>
<li>카카오톡 / 네이버 / 페이스북 / 구글 / 트위터 등의 Auth 2.0의 활용이 필요하다</li>
<li>생년월일, 나이 등도 키보드 없이 설정할 수 있도록 해야한다</li>
</ul>
<p>2-1. 사용자에게 간편 로그인을 유도하기</p>
<ul>
<li>X 버튼은 사용자가 누르기 어렵도록 엄지영역에서 먼 곳으로 위치시키기</li>
<li>회원가입하면 얻는 이점을 명확하게</li>
<li>레이블, 플레이스홀더도 할 일을 명확하게 제시</li>
<li>텍스트 필드 밑줄에는 애니메이션이 필요</li>
<li>텍스트 필드에 적는 내용을 실시간으로 서버에서 확인하고 판단 후에 가입/계속하기 버튼을 활성화하기</li>
<li>Auth 2.0을 더 사용하도록 엄지에 가까운 쪽으로 외부 로그인 버튼을 크게 두어 사용을 유도하기</li>
<li>Auth 2.0을 사용한다면 동의 문구를 반드시 표기</li>
<li>경고 문구는 되도록 상냥한 문구를 쓸 수 있도록 하기</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/04/27/21-04-27-%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4%EB%A1%9C%EC%84%9C-%EB%A1%9C%EA%B7%B8%EC%9D%B8-UI-UX%EB%A5%BC-%ED%96%A5%EC%83%81%EC%8B%9C%ED%82%A4%EB%8A%94-%EB%B0%A9%EB%B2%95%EC%9D%B4%EB%9E%80/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/04/23/%EB%A7%A4%EC%9D%BC-%EC%9A%B4%EB%8F%99-%EB%A3%A8%ED%8B%B4-%EC%A0%95%EB%A6%AC/"
                            aria-label=": 매일 운동 루틴 정리"
                        >
                            매일 운동 루틴 정리
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-04-23T21:04:39+09:00">
	
		    Apr 23, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/%EA%B8%B0%EB%B3%B8/">기본</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="체력을-기르기-위한-운동은-필수-해야-할-운동들을-정리"><a href="#체력을-기르기-위한-운동은-필수-해야-할-운동들을-정리" class="headerlink" title="체력을 기르기 위한 운동은 필수! 해야 할 운동들을 정리"></a>체력을 기르기 위한 운동은 필수! 해야 할 운동들을 정리</h2><ul>
<li>해본 운동들 중에 효과가 좋았던 것들, 지속해서 일주일 넘게 해 봤던 운동들을 정리</li>
<li>플레이 리스트로 정리하자니 관리가 귀찮을 것 같아서 포스팅으로 남김</li>
</ul>
<h3 id="1-스트레칭"><a href="#1-스트레칭" class="headerlink" title="1. 스트레칭"></a>1. 스트레칭</h3><p><strong>(1) 하루 5분, 30일 후엔 다리찢기가 되는 스트레치! (일본어 영상)</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=kpg5oRGFXns"><img src="http://img.youtube.com/vi/kpg5oRGFXns/mqdefault.jpg" alt="스트레치"></a></p>
<p><strong>(2) 고관절이 딱딱한 사람이라도 부드러워지는 스트레치 (일본어 영상)</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=yD1Rlli7cNk"><img src="http://img.youtube.com/vi/yD1Rlli7cNk/mqdefault.jpg" alt="스트레치"></a></p>
<p><strong>(3) 발목 가동성 및 강화운동을 해도 좋아지지 않는 이유</strong></p>
<p><a target="_blank" rel="noopener" href="https://youtu.be/x83MgTZMVUU?t=605"><img src="http://img.youtube.com/vi/x83MgTZMVUU/mqdefault.jpg" alt="스트레치"></a></p>
<h3 id="2-유산소-운동들"><a href="#2-유산소-운동들" class="headerlink" title="2. 유산소 운동들"></a>2. 유산소 운동들</h3><p><strong>(1) 빅시스 올인원 운동</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=myNjmnvI6x0"><img src="http://img.youtube.com/vi/myNjmnvI6x0/mqdefault.jpg" alt="NO 층간소음 올인원 운동"></a></p>
<p><strong>(2) 땅크부부 칼소폭</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=lKwZ2DU4P-A"><img src="http://img.youtube.com/vi/lKwZ2DU4P-A/mqdefault.jpg" alt="칼소폭 매운맛"></a></p>
<p><strong>(3) 차머 12분 맨몸 홈트</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=TISD0OJsin4"><img src="http://img.youtube.com/vi/TISD0OJsin4/mqdefault.jpg" alt="맨몸 홈트 차머"></a></p>
<p><strong>(4) 리쌤 초보자 운동</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=Ah72gR5DrxU"><img src="http://img.youtube.com/vi/Ah72gR5DrxU/mqdefault.jpg" alt="바벨라토르 홈트"></a></p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/04/23/%EB%A7%A4%EC%9D%BC-%EC%9A%B4%EB%8F%99-%EB%A3%A8%ED%8B%B4-%EC%A0%95%EB%A6%AC/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/04/23/%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EB%A9%B4%EC%A0%91-%EC%A7%88%EB%AC%B8-%EB%82%B4%EC%9A%A9%EA%B3%BC-%EB%8B%B5%EB%B3%80%EC%9D%84-%EC%A0%95%EB%A6%AC%ED%95%B4%EB%B3%B4%EB%8A%94-%EC%8B%9C%EA%B0%84/"
                            aria-label=": 프론트엔드 면접 질문 내용과 답변을 정리해보는 시간"
                        >
                            프론트엔드 면접 질문 내용과 답변을 정리해보는 시간
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-04-23T14:08:39+09:00">
	
		    Apr 23, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/%EA%B8%B0%EB%B3%B8/">기본</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="프론트엔드-엔지니어-면접에서-자주-나오는-질문-1편"><a href="#프론트엔드-엔지니어-면접에서-자주-나오는-질문-1편" class="headerlink" title="프론트엔드 엔지니어 면접에서 자주 나오는 질문 1편"></a>프론트엔드 엔지니어 면접에서 자주 나오는 질문 1편</h2><p>(추후에도 정리할 수 있음 더 정리하기…)</p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=vR87GdV3VlA">해당 영상</a>에서 나온 것들을 위주로 정리</p>
<h3 id="1-Virtual-DOM이란"><a href="#1-Virtual-DOM이란" class="headerlink" title="1. Virtual-DOM이란?"></a>1. Virtual-DOM이란?</h3><blockquote>
<p><strong>Virtual DOM은 무엇인가요?</strong><br>Virtual DOM (VDOM)은 UI의 이상적인 또는 “가상”적인 표현을 메모리에 저장하고 ReactDOM과 같은 라이브러리에 의해 “실제” DOM과 동기화하는 프로그래밍 개념입니다. 이 과정을 재조정이라고 합니다.<br>(React 공식 문서 참조)</p>
</blockquote>
<p>(1) 브라우저는 HTML을 전달 받으면 이를 파싱하여 DOM 노드로 이루어진<strong>DOM 트리를 생성</strong>한다<br>(2) CSS파일과 각 엘리먼트의 inline 스타일을 파싱, 스타일 정보를 사용해서 <strong>Render 트리를 생성</strong>한다<br>(3) 이 노드 스타일을 동기적으로 attachment하고 렌더 트리가 다 만들어지면 <strong>레이아웃(reflow)</strong> 과정을 통해 노드들에 스크린의 좌표가 주어지며 위치가 정해진다<br>(4) 렌더링이 끝나면 paint() 메소드를 통해 렌더링된 요소들에 색을 입힘</p>
<p><em>그렇다면 왜 Virtual DOM은 효율적인걸까?</em></p>
<ul>
<li>DOM을 직접 조작한다면 그 때마다 레이아웃의 재계산과 리렌더링이 일어날 것</li>
<li>이 변화가 일어날 때 Virtual DOM에서 계산한다면 이 DOM은 가상 DOM이기 때문에 렌더링되지 않고, 그렇기 때문에 연산 비용의 절감 효과가 있다</li>
<li>Virtual DOM은 DOM fragment를 관리하는 과정을 자동화 및 추상화하고 어떤 부분이 바뀌었는지를 파악해준다</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://velopert.com/3236">velopert님 블로그</a>를 참조함</p>
<h3 id="2-useMemo와-useCallback"><a href="#2-useMemo와-useCallback" class="headerlink" title="2. useMemo와 useCallback"></a>2. useMemo와 useCallback</h3><p>(1) useMemo</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedValue = useMemo(<span class="function">() =&gt;</span> computeExpensiveValue(a, b), [a, b]);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>메모이제이션된 값을 반환합니다 (React 공식 문서)</p>
</blockquote>
<ul>
<li>복잡한 함수의 return값을 기억해야 할 때 사용</li>
<li>렌더링 중에 실행되므로 사이드 이펙트가 일어나는 것을 useMemo로 처리해선 안된다 → <strong>useEffect()를 사용할 것!</strong></li>
</ul>
<p>(2) useCallback</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedCallback = useCallback(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  doSomething(a, b);</span><br><span class="line">&#125;, [a, b]);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>메모이제이션된 콜백을 반환합니다 (React 공식 문서)</p>
</blockquote>
<ul>
<li>불필요한 렌더링을 방지하기 위해 설계된 함수</li>
<li>의존성을 갖는 reference(여기서는 [a, b])가 변경되었을 때 실행됨</li>
</ul>
<p>→ 사실 useMemo()나 useCallback()은 (렌더링 최적화를 위해 사용 가능하지만) 이제 useState()와 useEffect()로 거의 다 처리할 수 있다</p>
<p>참고자료: <a target="_blank" rel="noopener" href="https://ui.toast.com/weekly-pick/ko_20190731">React.memo() 현명하게 사용하기</a></p>
<h3 id="3-리렌더링의-조건"><a href="#3-리렌더링의-조건" class="headerlink" title="3. 리렌더링의 조건"></a>3. 리렌더링의 조건</h3><ul>
<li>React에서 렌더 순서는 App → 부모 → 자식 순</li>
<li>React에서 마운트 순서는 자식 → 부모 → App 순</li>
<li>React는 컴포넌트의 상태가 변하면 컴포넌트의 리렌더링을 발생시킨다<ul>
<li>자신의 상태가 변경될 때</li>
<li>부모 컴포넌트가 리렌더링 될 때</li>
<li>자신이 전달받은 props가 변경될 때</li>
<li>forceUpdate()가 실행될 때</li>
</ul>
</li>
</ul>
<h3 id="4-자바스크립트의-실행-컨텍스트"><a href="#4-자바스크립트의-실행-컨텍스트" class="headerlink" title="4. 자바스크립트의 실행 컨텍스트"></a>4. 자바스크립트의 실행 컨텍스트</h3><p><a target="_blank" rel="noopener" href="https://poiemaweb.com/js-execution-context">참고 페이지</a></p>
<ul>
<li><strong>실행 컨텍스트란 실행 가능한 코드를 형상화하고 구분하는 추상적 개념으로 코드가 실행되기 위해 필요한 환경</strong></li>
<li>실행 가능한 코드는 전역 코드, Eval 코드, 함수 코드로 나뉜다</li>
</ul>
<p>(1) 실행 컨텍스트의 실행 과정</p>
<ul>
<li>컨트롤이 실행 가능한 코드로 이동하면 새 실행 컨텍스트가 생성된다</li>
<li>전역 코드로 컨트롤이 진입하면 전역 실행 컨텍스트가 생성되고 실행 컨텍스트 스택에 쌓인다(이 전역 실행 컨텍스트는 웹페이지를 나가거나 브라우저를 닫을 때 까지 유지됨)</li>
<li>함수를 실행하면 해당 함수의 실행 컨텍스트가 생성되고 직전에 실행된 코드 블록의 실행 컨텍스트 위에 쌓인다</li>
<li>함수 실행이 끝나면 실행 컨텍스트를 파기하고 직전의 실행 컨텍스트에 컨트롤을 반환</li>
</ul>
<p>(2) 실행 컨텍스트의 구조</p>
<ul>
<li>실행 컨텍스트는 변수 객체(Variable Object), 스코프 체인, this로 이루어져 있다</li>
<li><strong>변수 객체</strong>는 변수, 매개변수, 인수정보, 함수 선언 등을 담고 있다</li>
<li>전역 컨텍스트는 전역 함수와 전역 변수를 가지고, 함수 컨텍스트는 매개변수 객체와 내부 함수, 지역 변수를 갖는다</li>
<li><strong>스코프 체인</strong>은 해당 전역/함수 컨텍스트가 참조할 수 있는 변수, 함수 선언 등의 정보를 담고 있는 전역 객체, 활성 객체의 리스트를 가리킨다</li>
<li>실행 컨텍스트 스택 내 활성 객체를 선두로 리스트의 마지막은 당연히 전역 객체를 가리킨다</li>
<li>자바스크립트 엔진은 스코프 체인을 통해 렉시컬 스코프(함수가 중첩될 때 상위 스코프를 따라 올라가는 것)를 파악한다</li>
<li>자바스크립트의 함수는 호출 될 때 매개변수 인자 이외에 arguments 객체와 <strong>this</strong>를 전달 받는다</li>
<li>this는 어떤 스코프에 위치해 있느냐에 따라 다른데 전역 객체에 있다면 this는 window(브라우저), global(Node.js) 객체를 의미한다</li>
<li>메소드의 내부함수나 콜백의 경우에도 this는 전역 객체에 바인딩 된다</li>
<li>함수가 객체의 프로퍼티 값이라면 메서드로 호출되는데, 이 메서드 내부의 this는 해당 메서드를 호출한 객체에 바인딩된다</li>
<li>new 연산자로 생성자를 호출할 경우 자바스크립트는 빈 객체를 먼저 생성하여 this를 바인딩하고 바인딩된 this를 통해 프로퍼티를 생성하여 객체를 리턴한다</li>
</ul>
<h3 id="5-클로저"><a href="#5-클로저" class="headerlink" title="5. 클로저"></a>5. 클로저</h3><ul>
<li>함수를 일급 객체로 취급하는 함수형 프로그래밍 언어에서라면 클로저가 사용된다</li>
<li>클로저는 반환된 내부함수가 자신이 선언되었을 때의 환경인 스코프를 기억하고 자신이 선언됐을 때의 스코프 밖에서 호출되어도 그 스코프에 접근할 수 있는 함수를 말한다</li>
<li>말이 어려운데 클로저는 함수 안에 함수가 있게 되면 기본적으로 생성된다</li>
<li>그렇게 되면 자연스레 스코프 체인이 형성될 텐데 이 스코프 체인이 형성될 때 변수 값들을 보존하고 기억하게 된다 (이는 메모리에서 해당 함수가 없어질 때까지 존재함)</li>
</ul>
<h3 id="6-이벤트-루프와-이벤트-버블링-이벤트-위임"><a href="#6-이벤트-루프와-이벤트-버블링-이벤트-위임" class="headerlink" title="6. 이벤트 루프와 이벤트 버블링, 이벤트 위임"></a>6. 이벤트 루프와 이벤트 버블링, 이벤트 위임</h3><p>참고 페이지: <a target="_blank" rel="noopener" href="https://joshua1988.github.io/web-development/javascript/event-propagation-delegation/">이벤트 버블링, 이벤트 캡처 그리고 이벤트 위임까지</a></p>
<ul>
<li><strong>이벤트 버블링</strong>은 특정 화면 요소에 이벤트가 발생했을 때 해당 이벤트가 더 상위의 화면 요소들로 전달되는 특성 → 이는 HTML요소가 트리 구조를 가지기 때문</li>
<li>이런 버블링은 stopPropagation()을 통해 막을 수 있다</li>
<li><strong>이벤트 캡쳐</strong>는 이와 반대 방향으로 진행되는 전파 방식</li>
<li>하위 요소에 각각 이벤트를 붙이지 않고 상위 요소에서 하위 요소의 이벤트를 제어하기 위한 것이 <strong>이벤트 위임</strong></li>
</ul>
<h3 id="7-promise-async-await"><a href="#7-promise-async-await" class="headerlink" title="7. promise, async, await"></a>7. promise, async, await</h3><p><em>자바스크립트에서 비동기 처리란?</em></p>
<ul>
<li>특정 로직의 실행이 끝날때 까지 기다리지 않고 나머지 코드를 먼저 실행하는 것</li>
<li>이를 해결하기 위해 콜백 함수를 사용했었음</li>
<li>promise는 이 비동기 처리에 사용되는 객체로 Pending(대기), Fulfilled(이행), Rejected(실패)의 3가지 상태를 가진다</li>
<li><code>new promise()</code>가 호출되면 대기 상태가 되며 첫번째 매개변수로 콜백 함수를 선언할 수 있으며 이 콜백 함수는 resolve와 reject 인자를 가진다</li>
<li>resolve가 실행되었을 때에 이행 상태가 되고 reject가 실행되었을 때 실패 상태가 된다</li>
<li>이행 상태가 된다면 <code>then()</code>을 사용하여 처리 결과 값을 받을 수 있고 실패 상태가 된다면 <code>catch()</code>로 처리 결과 값을 받을 수 있다</li>
</ul>
<p><em>비동기 처리 패턴에 사용되는 async와 await</em></p>
<ul>
<li>코드의 순서를 보장하기 위해 사용하는 예약어(async)와 연산자(await)</li>
<li>await의 처리 코드는 promise를 반환해야 한다</li>
<li>async와 await의 예외를 처리하려면 try catch문을 사용해야 한다</li>
</ul>
<h3 id="8-자바스크립트의-가비지-컬렉션"><a href="#8-자바스크립트의-가비지-컬렉션" class="headerlink" title="8. 자바스크립트의 가비지 컬렉션"></a>8. 자바스크립트의 가비지 컬렉션</h3><ul>
<li>자바스크립트는 도달 가능성(reachability)이라는 개념을 사용해 메모리를 관리한다</li>
<li>가비지 컬렉터는 루트 정보를 수집하고 이를 기억한다</li>
<li>루트가 참조하고 있는 모든 객체를 방문하고 이것들을 기억한다</li>
<li>기억한 모든 객체에 방문하여 그 객체가 참조하는 객체까지 기억한다 (한 번 방문하면 다시 방문하지 않음)</li>
<li>루트에서 도달 가능한 모든 객체를 방문할 때까지 반복한다</li>
<li>이 때 기억되지 않은 모든 객체를 메모리에서 삭제</li>
<li>최적화 기법으로 세대별 수집(새로운 객체/오래된 객체로 나누어 감시), 점진적 수집(가비지 컬렉션을 나누어 수행), 유휴 시간 수집(CPU가 유휴 상태일 때만 실행) 기법을 사용함</li>
</ul>
<h3 id="9-www-google-com을-입력-했을-때-일어나는-일"><a href="#9-www-google-com을-입력-했을-때-일어나는-일" class="headerlink" title="9. www.google.com을 입력 했을 때 일어나는 일"></a>9. <a target="_blank" rel="noopener" href="http://www.google.com을/">www.google.com을</a> 입력 했을 때 일어나는 일</h3><p>잘 정리된 <a target="_blank" rel="noopener" href="https://github.com/SantonyChoi/what-happens-when-KR">문서</a>가 있으므로 링크만 남김</p>
<h3 id="10-브라우저가-display-none-을-처리하는-법"><a href="#10-브라우저가-display-none-을-처리하는-법" class="headerlink" title="10. 브라우저가 display: none;을 처리하는 법"></a>10. 브라우저가 display: none;을 처리하는 법</h3><p>참고 페이지 : <a target="_blank" rel="noopener" href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction?hl=ko">렌더링 트리 생성, 레이아웃 및 페인트</a></p>
<ul>
<li>DOM과 CSSOM 트리는 결합해 렌더링 트리를 형성</li>
<li>페이지를 렌더링하는 데 필요한 노드만 포함시킴</li>
<li>레이아웃을 통해 위치와 크기 계산</li>
<li>페인트 및 픽셀 렌더링</li>
</ul>
<p>이 때 <code>display: none;</code>은 요소가 보이지 않고 레이아웃에도 포함되지 않도록 렌더링 트리에서 요소가 완전히 제거됨 (visibility: hidden은 레이아웃에서 공간을 차지함)</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/04/23/%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EB%A9%B4%EC%A0%91-%EC%A7%88%EB%AC%B8-%EB%82%B4%EC%9A%A9%EA%B3%BC-%EB%8B%B5%EB%B3%80%EC%9D%84-%EC%A0%95%EB%A6%AC%ED%95%B4%EB%B3%B4%EB%8A%94-%EC%8B%9C%EA%B0%84/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/04/21/21-04-21-AWS-%EC%9B%A8%EB%B9%84%EB%82%98-%EB%91%98%EC%A7%B8%EB%82%A0-%EB%85%B8%ED%8A%B8%EC%A0%95%EB%A6%AC/"
                            aria-label=": 21-04-21 AWS 웨비나 둘째날 노트정리"
                        >
                            21-04-21 AWS 웨비나 둘째날 노트정리
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-04-21T09:26:09+09:00">
	
		    Apr 21, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/AWS/">AWS</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="AWS-Builders-프로그램-데이터베이스-이론-및-실습"><a href="#AWS-Builders-프로그램-데이터베이스-이론-및-실습" class="headerlink" title="[AWS Builders 프로그램] 데이터베이스 이론 및 실습"></a>[AWS Builders 프로그램] 데이터베이스 이론 및 실습</h2><ul>
<li>교육 일자 : 2021. 04. 21(수)</li>
<li>이 강의에서는 AWS의 완전관리형 데이터베이스인 Aurora 서비스에 대해 알아보고 실습을 진행 (오전 강의)</li>
<li>또, 효율적인 Aurora의 활용을 위해 인터널 아키텍처의 구조를 알아보고 상세 기능의 사용법에 대해 배움 (오후 강의)</li>
</ul>
<h3 id="오전-강의-AWS의-Aurora-서비스"><a href="#오전-강의-AWS의-Aurora-서비스" class="headerlink" title="오전 강의 : AWS의 Aurora 서비스"></a>오전 강의 : AWS의 Aurora 서비스</h3><details>
<summary>열어보기</summary>
<div markdown="1">

<p><strong>AWS RDS 서비스의 특징</strong></p>
<ul>
<li>자체 관리형 DB의 경우 많은 작업들을 부담해야 하지만 AWS의 완전 관리형 DB를 사용한다면 개발자는 스키마 디자인, 쿼리 구성, 쿼리 최적화만 담당하고 그 외의 일은 AWS에서 담당하게 된다</li>
<li>AWS에서 담당하는 것은 자동 백업 및 복구, 보안 및 격리, 산업 규정 준수, 자동 패치, 모니터링, 서버 유지관리 등</li>
<li>Amazon RDS(이하 RDS)에서 제공하는 DB: Aurora, MySQL, PostgreSQL, MariaDB, SQLServer, ORACLE</li>
<li>AWS 콘솔에서 몇 분 만에 서비스에 필요한 데이터베이스를 구성할 수 있으며, 서버나 네트워크 OS, DB의 설치 등 모든 작업은 불필요함</li>
<li>DB 인스턴스에 대한 CloudWatch 지표로 모니터링이 가능하며 SNS와 연계해 이벤트가 발생할 때 경보 수신이 가능</li>
<li>데이터베이스 성능 개선 도우미를 제공하며 로드를 유발하는 SQL문과 그 이유를 찾기에 용이함</li>
<li>물리적으로 분리된 가용영역에 standby DB를 운영하며 동기식 복제 및 자동 Failover를 수행함</li>
<li>또한 읽기 전용 DB를 제공(MySQL, MariaDB, PostgreSQL, Oracle에서 지원)하며, 장애 발생 시에 빠른 복구를 위해 읽기 전용 복제본을 마스터로 승격 가능함</li>
<li>매일 전체 인스턴스에 대한 볼륨을 백업, DB변경 로그가 저장 됨 (기본 7일 최대 35일 보관)</li>
</ul>
<p><strong>AWS Aurora 서비스</strong></p>
<ul>
<li>클라우드 용으로 구축된 MySQL, PostgreSQL 호환 관계형 데이터베이스</li>
<li>3개의 가용 영역에 복제본을 하나씩 갖는 6벌의 데이터 베이스로 내구성이 매우 높다</li>
<li>Aurora Serverless 서비스가 새로 런칭, 필요할 때만 사용하고 사용하지 않을 때는 Shutdown되는 초당 과금 서비스</li>
</ul>
<p><strong>Amazon Redshift 서비스</strong></p>
<ul>
<li>빠르고 강력한 페타 바이트 규모의 데이터 웨어하우스</li>
<li>2PB까지 데이터 확장 가능(SSD 및 SAS 디스크 옵션 존재)</li>
</ul>
<p><strong>Amazon Dynamo DB 서비스</strong></p>
<ul>
<li>완전관리형 key-value, 문서 데이터베이스</li>
<li>어떤 규모에서도 10밀리초 미만의 성능 제공</li>
<li>내구성이 뛰어난 다중 리전, 다중 마스터 DB</li>
<li>하루 10조 개 이상 요청 처리 가능</li>
</ul>
<p><strong>Amazon DocumentDB</strong></p>
<ul>
<li>JSON 데이터에 최적화된 완전관리형 문서 데이터베이스</li>
<li>MongoDB와 호환되어 기존 MongoDB 드라이버 사용 가능</li>
</ul>
<p><strong>Amazon ElastiCache</strong></p>
<ul>
<li>Redis, Memcached와 호환되는 인 메모리 DB</li>
</ul>
<p><strong>AWS Schema Conversion Tool</strong></p>
<ul>
<li>기존 DB 스키마를 다른 DB 엔진 스키마로 변환하는 툴</li>
</ul>
</div>
</details>

<h3 id="오전-강의-AWS-Aurora-실습"><a href="#오전-강의-AWS-Aurora-실습" class="headerlink" title="오전 강의 : AWS Aurora 실습"></a>오전 강의 : AWS Aurora 실습</h3><details>
<summary>열어보기</summary>
<div markdown="2">

<ol>
<li>CloudFormation Template을 사용해 실습환경 생성 (Stack 생성에 10~20분 정도 걸림)</li>
<li>Stack이 생성되면 출력(Outputs)에 Key-Value가 표시됨</li>
<li>Session Manager를 이용해 EC2 인스턴스에 접속</li>
<li>터미널에서 우분투 유저로 스위칭하기 <code>sudo su -l ubuntu</code></li>
<li><code>tail -n1 /debug.log</code>로 인스턴스의 정상 기동 확인 <code>* bootstrap complete, rebootin</code></li>
<li><code>env |grep DB</code>로 DBUSER, DBPASS, DBUS_SESSION_BUS_ADDRESS를 각각 확인</li>
<li>mysql client를 사용해 aurora 인스턴스로 접속을 확인 clusterEndpoint는 2번에서 확인 가능</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">export DBURL&#x3D;auroralab-mysql-cluster.cluster-cqxoqejlondh.ap-northeast-2.rds.amazonaws.com</span><br><span class="line">mysql -h$DBURL -u$DBUSER -p&quot;$DBPASS&quot; -e&quot;SELECT @@aurora_version;&quot;</span><br><span class="line"></span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">+------------------+</span><br><span class="line">| @@aurora_version |</span><br><span class="line">+------------------+</span><br><span class="line">| 2.09.1           |</span><br><span class="line">+------------------+</span><br></pre></td></tr></table></figure>
<ol start="8">
<li>스프링을 <code>sudo apt-get install openjdk-11-jdk -y</code>로 설치</li>
<li>PetClinic을 사용하기 위해 클론 및 빌드</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;kiwonyoon0701&#x2F;spring-petclinic.git</span><br><span class="line">wget https:&#x2F;&#x2F;shared-kiwony.s3.ap-northeast-2.amazonaws.com&#x2F;m2.tar.Z</span><br><span class="line">tar xvfz m2.tar.Z</span><br><span class="line">cd spring-petclinic&#x2F;</span><br><span class="line">.&#x2F;mvnw package -Dmaven.test.skip&#x3D;true</span><br></pre></td></tr></table></figure>
<ol start="10">
<li>EC2의 퍼블릭 IP를 <code>curl -s ifconfig.me | awk &#39; &#123; print $1 &quot;\n&quot; &#125;&#39;</code>로 확인 11.<code>java -jar target/*.jar</code>로 어플리케이션 기동</li>
<li>퍼블릭 IP와 8080포트로 어플리케이션 접속</li>
</ol>
<p>→ 이후 DB관련 작업 및 DB복제 등의 작업이 이어짐 (클론 후 이어지는 작업이므로 생략)</p>
</div>
</details>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/04/21/21-04-21-AWS-%EC%9B%A8%EB%B9%84%EB%82%98-%EB%91%98%EC%A7%B8%EB%82%A0-%EB%85%B8%ED%8A%B8%EC%A0%95%EB%A6%AC/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
          <li class="pagination-next">
            <a
                class="btn btn--default btn--small"
                href="/page/2/"
                aria-label="OLDER POSTS"
            >
              <span>OLDER POSTS</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">page 1 of 6</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 Harry Kim. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">Harry Kim</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->





    </body>
</html>
